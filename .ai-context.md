# Context pour IA / AI Coding Assistants

## ğŸ”Š Audio - IMPORTANT

**Avant de modifier les fichiers audio du projet, LISEZ OBLIGATOIREMENT :**
ğŸ‘‰ `/docs/AUDIO_MIGRATION_GUIDE.md`

### RÃ©sumÃ© critique
- âœ… Utilisez `useAudioPlayer()` de expo-audio
- âŒ N'utilisez JAMAIS `createAudioPlayer()` avec expo-audio 0.3.5
- Cause : Bug dans SDK 52 â†’ "Error: Value is undefined, expected an Object"

### Fichiers concernÃ©s
- `/hooks/useAudio.ts` - Mode Classique
- `/hooks/game/usePrecisionAudio.ts` - Mode Precision

Ces fichiers contiennent dÃ©jÃ  des commentaires pointant vers le guide.

## ğŸ“‹ Structure du projet

### Modes de jeu
1. **Mode Classique** : Jeu de dates standard
2. **Mode Precision** : Jeu avec systÃ¨me de HP et dates prÃ©cises

### Documentation
- `/docs/README.md` - Index de la documentation
- `/docs/AUDIO_MIGRATION_GUIDE.md` - Guide critique pour l'audio

## âš¡ Commandes importantes

```bash
# DÃ©marrer le serveur
npm start

# Build Android local
npm run build:android:local

# Prebuild Android
npm run prebuild:android
```

## ğŸš¨ PiÃ¨ges Ã  Ã©viter

1. **Audio** : Ne pas utiliser `createAudioPlayer` â†’ Lire /docs/AUDIO_MIGRATION_GUIDE.md
2. **SDK** : Projet sur Expo SDK 52, ne pas upgrader expo-audio vers 1.0.14+ sans migrer vers SDK 53
3. **TypeScript** : Projet a des erreurs TS dans certains fichiers legacy, mais les fichiers audio sont propres

## ğŸ“¦ DÃ©pendances clÃ©s

- expo-audio: 0.3.5 (SDK 52 compatible)
- expo: ~52.0.47
- react-native: 0.76.x

## ğŸ¯ Si vous voulez ajouter un nouveau son

1. Lire `/docs/AUDIO_MIGRATION_GUIDE.md`
2. Ajouter le fichier son dans `/assets/sounds/`
3. Utiliser `useAudioPlayer(require('./path/to/sound.wav'))`
4. Ajouter dans `playersRef` map
5. Ne PAS utiliser `createAudioPlayer`

## ğŸ“ Notes pour les dÃ©veloppeurs futurs

- Le projet utilise Firebase pour analytics et auth
- Supabase pour la base de donnÃ©es
- Expo Router pour la navigation
- Les sons sont gÃ©rÃ©s par canal pour Ã©viter les superpositions (mode Precision)
